<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
        function createElemnt (tag, id, type, innerText, innerHtml) {
            const elem = document.createElement(tag);
            elem.type = type;
            elem.id = id;
            elem.innerHTML = innerHtml;
            if (type === 'button') {
                elem.value = innerText;
            }
            return elem;
        }

        document.body.appendChild(createElemnt('input', 'num', 'text'));
        document.body.appendChild(createElemnt('input', 'show', 'button', 'Отправить'));
        document.body.appendChild(createElemnt('div', 'container', null, null, null));

        function generateColor() {
            return '#' + Math.floor(Math.random()*16777215).toString(16);
        }

        function addRect () {
            const container = document.querySelector('#container');
            container.style.display = 'flex';
            const num = parseInt(document.querySelector("#num").value);
            console.log(num);

            for (let i = 0; i < num; i++) {
                const rect = container.appendChild(createElemnt('div', `container${i}`, null, null, null));
                rect.style.backgroundColor = generateColor();
                rect.style.width = '50px';
                rect.style.height = '20px';
                rect.style.margin = '5px';
            }
        }

        document.getElementById('show').addEventListener('click', addRect);
    </script>
</body>